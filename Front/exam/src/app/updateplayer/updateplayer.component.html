<div class="update-player-container">
  <h2>Update Player</h2>

  <div *ngIf="selectedPlayer" class="form-layout">
    <!-- Section pour la photo -->
    <div class="photo-section">
      <div class="photo-preview">
        <img
          *ngIf="selectedPlayer.photo"
          [src]="selectedPlayer.photo"
          alt="Player photo"
        />
      </div>
      <label for="photo" class="upload-label">Update Player's Photo</label>
      <input
        type="file"
        id="photo"
        accept="image/*"
        (change)="onPhotoChange($event)"
      />
    </div>

    <!-- Formulaire -->
    <form (ngSubmit)="onUpdatePlayer()" #updateForm="ngForm" class="form-fields">
      <div class="form-group">
        <label for="name">Player Name</label>
        <input
          type="text"
          id="name"
          class="form-control"
          [(ngModel)]="selectedPlayer.name"
          name="name"
          required
        />
      </div>

      <div class="form-group">
        <label for="position">Position</label>
        <input
          type="text"
          id="position"
          class="form-control"
          [(ngModel)]="selectedPlayer.position"
          name="position"
          required
        />
      </div>

      <div class="form-group">
        <label for="team">Team</label>
        <input
          type="text"
          id="team"
          class="form-control"
          [(ngModel)]="selectedPlayer.team"
          name="team"
        />
      </div>

      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!updateForm.form.valid"
      >
        Update Player
      </button>
    </form>
  </div>

  <!-- Barre de recherche -->
  <div class="search-bar">
    <input
      type="text"
      placeholder="Search for a player"
      [(ngModel)]="searchQuery"
      (input)="onSearch()"
    />
  </div>

  <!-- RÃ©sultats de recherche -->
  <ul class="search-results">
    <li *ngFor="let player of filteredPlayers" (click)="selectPlayer(player)">
      <div class="player-info">
        <img [src]="player.photo" alt="{{ player.name }}" />
        <div>
          <p><strong>Name:</strong> {{ player.name }}</p>
          <p><strong>Position:</strong> {{ player.position }}</p>
          <p><strong>Team:</strong> {{ player.team || 'No team' }}</p>
        </div>
      </div>
    </li>
  </ul>
</div>
